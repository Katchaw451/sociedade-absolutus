<!DOCTYPE html>
<html>
<head>
    <title>Sociedade Absolutus - $SA Mining</title>
    <script src="https://unpkg.com/@solana/web3.js@latest/lib/index.iife.js"></script>
    <style>
        body { 
            font-family: Arial, sans-serif; 
            max-width: 800px; 
            margin: 0 auto; 
            padding: 20px;
            background: #0f0f0f;
            color: white;
        }
        .container {
            background: #1a1a1a;
            padding: 20px;
            border-radius: 10px;
            margin: 10px 0;
            border: 1px solid #333;
        }
        button {
            padding: 10px 20px;
            font-size: 16px;
            margin: 10px 5px;
            background: #007bff;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        button:disabled {
            background: #666;
            cursor: not-allowed;
        }
        button:hover:not(:disabled) {
            background: #0056b3;
        }
        .connected { color: #00ff00; font-weight: bold; }
        .balance { font-size: 24px; font-weight: bold; color: #00ff00; }
        .mining-power { color: #ffaa00; }
        .section-title { 
            color: #007bff; 
            border-bottom: 2px solid #007bff;
            padding-bottom: 10px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üöÄ SOCIEDADE ABSOLUTUS</h1>
        <h2>$SA Token Mining Platform</h2>
        <p><strong>Ray ID:</strong> <span id="rayId">RAY-7UFQ2AOODF4</span></p>
    </div>

    <div class="container">
        <h3 class="section-title">Connect Phantom Wallet</h3>
        <button onclick="connectPhantom()" id="connectBtn">Connect Phantom Wallet</button>
        <p id="walletStatus">Connect your Phantom wallet to receive $SA tokens and withdraw to Solana</p>
        <p>‚úÖ Don't have Phantom? <a href="https://phantom.app/" target="_blank" style="color: #00ff00;">Download here</a></p>
    </div>

    <div class="container" id="walletInfo" style="display: none;">
        <h3 class="section-title">Your $SA Wallet</h3>
        <p>Available Balance: <span class="balance" id="availableBalance">0.000000</span> $SA</p>
        <p>Mining Power: <span class="mining-power" id="miningPower">1.7 H/s</span></p>
        <p>Total Mined: <span id="totalMined">0.000000</span> $SA</p>
    </div>

    <div class="container">
        <h3 class="section-title">Mine $SA Token</h3>
        <button onclick="startMining()" id="mineBtn">Start Mining $SA</button>
        <button onclick="stopMining()" id="stopBtn" disabled>Stop Mining</button>
        <p id="miningStatus">Click Start Mining to begin earning $SA tokens</p>
        
        <div style="margin-top: 15px;">
            <h4>Mining Upgrades</h4>
            <button onclick="upgradeMining(0.5)" id="upgrade1">Upgrade to 2.2 H/s (Cost: 10 $SA)</button>
            <button onclick="upgradeMining(1.0)" id="upgrade2">Upgrade to 3.2 H/s (Cost: 25 $SA)</button>
        </div>
    </div>

    <div class="container">
        <h3 class="section-title">Withdraw $SA to Phantom</h3>
        <p>Amount to withdraw ($SA)</p>
        <input type="number" id="withdrawAmount" placeholder="10" min="10" style="padding: 8px; width: 100px;">
        <button onclick="withdrawTokens()" id="withdrawBtn">Withdraw $SA to Phantom</button>
        
        <div style="margin-top: 15px; font-size: 14px;">
            <p>‚úÖ Withdraw to: <span id="withdrawAddress">Not connected</span></p>
            <p>‚úÖ Minimum withdrawal: 10 $SA</p>
            <p>‚úÖ Processing time: Instant (Devnet)</p>
            <p>‚úÖ Network fee: 1 $SA</p>
            <p>‚úÖ Network: Solana Devnet</p>
            <p>‚úÖ Token: EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v (USDC Devnet)</p>
        </div>
    </div>

    <div class="container">
        <h3 class="section-title">About $SA Token</h3>
        <p><strong>Token:</strong> $SA (Sociedade Absolutus)</p>
        <p><strong>Blockchain:</strong> Solana</p>
        <p><strong>Contract:</strong> EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v</p>
        <p><strong>Use Case:</strong> Education, Awards, Governance</p>
        <p><strong>Status:</strong> <span style="color: #00ff00;">LIVE on Devnet</span></p>
    </div>

    <script>
    // Mining variables
    let isMining = false;
    let miningInterval;
    let availableBalance = 0;
    let totalMined = 0;
    let miningPower = 1.7;
    let upgrades = [0.5, 1.0];
    let upgradeCosts = [10, 25];

    // Phantom Wallet Connection
    async function connectPhantom() {
        try {
            const btn = document.getElementById('connectBtn');
            btn.textContent = 'Connecting...';
            btn.disabled = true;
            
            const provider = window.solana;
            if (!provider || !provider.isPhantom) {
                alert('Please install Phantom Wallet from https://phantom.app/');
                btn.textContent = 'Connect Phantom Wallet';
                btn.disabled = false;
                return;
            }
            
            // Connect to wallet
            await provider.connect();
            const publicKey = provider.publicKey.toString();
            
            // Update UI
            btn.textContent = '‚úÖ Connected';
            document.getElementById('walletStatus').innerHTML = '‚úÖ Connected: ' + publicKey.substring(0, 8) + '...';
            document.getElementById('withdrawAddress').textContent = publicKey.substring(0, 8) + '...';
            document.getElementById('walletInfo').style.display = 'block';
            
            console.log('‚úÖ Connected to Phantom:', publicKey);
            
        } catch (error) {
            console.error('Connection failed:', error);
            alert('Connection failed: ' + error.message);
            document.getElementById('connectBtn').textContent = 'Connect Phantom Wallet';
            document.getElementById('connectBtn').disabled = false;
        }
    }

    // Mining functions
    function startMining() {
        if (isMining) return;
        
        isMining = true;
        document.getElementById('mineBtn').disabled = true;
        document.getElementById('stopBtn').disabled = false;
        document.getElementById('miningStatus').textContent = '‚õèÔ∏è Mining $SA tokens...';
        
        miningInterval = setInterval(() => {
            const mined = miningPower / 3600; // Simulate mining based on power
            availableBalance += mined;
            totalMined += mined;
            
            document.getElementById('availableBalance').textContent = availableBalance.toFixed(6);
            document.getElementById('totalMined').textContent = totalMined.toFixed(6);
            document.getElementById('miningStatus').textContent = '‚õèÔ∏è Mining: +' + mined.toFixed(6) + ' $SA';
        }, 1000);
    }

    function stopMining() {
        isMining = false;
        clearInterval(miningInterval);
        document.getElementById('mineBtn').disabled = false;
        document.getElementById('stopBtn').disabled = true;
        document.getElementById('miningStatus').textContent = 'Mining stopped';
    }

    function upgradeMining(index) {
        const cost = upgradeCosts[index];
        if (availableBalance >= cost) {
            availableBalance -= cost;
            miningPower += upgrades[index];
            
            document.getElementById('availableBalance').textContent = availableBalance.toFixed(6);
            document.getElementById('miningPower').textContent = miningPower.toFixed(1) + ' H/s';
            document.getElementById('upgrade' + (index + 1)).disabled = true;
            document.getElementById('upgrade' + (index + 1)).textContent = '‚úÖ Upgraded';
            
            alert('‚úÖ Mining power upgraded to ' + miningPower.toFixed(1) + ' H/s!');
        } else {
            alert('‚ùå Insufficient $SA balance. Need: ' + cost + ' $SA');
        }
    }

    async function withdrawTokens() {
        const amount = parseFloat(document.getElementById('withdrawAmount').value);
        const minWithdrawal = 10;
        
        if (!window.solana || !window.solana.publicKey) {
            alert('Please connect Phantom wallet first');
            return;
        }
        
        if (amount < minWithdrawal) {
            alert('Minimum withdrawal is ' + minWithdrawal + ' $SA');
            return;
        }
        
        if (availableBalance < amount) {
            alert('Insufficient balance. Available: ' + availableBalance.toFixed(2) + ' $SA');
            return;
        }
        
        try {
            document.getElementById('withdrawBtn').textContent = 'Processing...';
            document.getElementById('withdrawBtn').disabled = true;
            
            // Simulate withdrawal (in real version, this would be a blockchain transaction)
            availableBalance -= amount;
            document.getElementById('availableBalance').textContent = availableBalance.toFixed(6);
            
            // Show success message
            alert('‚úÖ ' + (amount - 1) + ' $SA sent to your Phantom wallet! (1 $SA network fee)');
            document.getElementById('withdrawBtn').textContent = 'Withdraw $SA to Phantom';
            document.getElementById('withdrawBtn').disabled = false;
            
        } catch (error) {
            console.error('Withdrawal failed:', error);
            alert('Withdrawal failed: ' + error.message);
            document.getElementById('withdrawBtn').textContent = 'Withdraw $SA to Phantom';
            document.getElementById('withdrawBtn').disabled = false;
        }
    }

    // Initialize upgrades
    function initUpgrades() {
        upgrades.forEach((upgrade, index) => {
            const btn = document.getElementById('upgrade' + (index + 1));
            if (btn) {
                btn.textContent = 'Upgrade to ' + (miningPower + upgrade).toFixed(1) + ' H/s (Cost: ' + upgradeCosts[index] + ' $SA)';
            }
        });
    }

    // Initialize on load
    initUpgrades();
    </script>
</body>
</html>